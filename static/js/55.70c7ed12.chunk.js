(this["webpackJsonp@minimal/material-kit-react"]=this["webpackJsonp@minimal/material-kit-react"]||[]).push([[55],{2756:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(4),i=n(31),r=n(30),c=n(2633),o=n(375),s=n(598),l=n(2730),d=n(39),j=n(0);function b(e){var t=e.links,n=e.action,b=e.heading,u=e.moreLink,p=void 0===u?[]:u,h=e.sx,O=Object(i.a)(e,["links","action","heading","moreLink","sx"]);return Object(j.jsxs)(c.a,{sx:h,mb:5,spacing:2,children:[Object(j.jsxs)(c.a,{direction:"row",alignItems:"center",children:[Object(j.jsxs)(o.a,{sx:{flexGrow:1},children:[Object(j.jsx)(s.a,{variant:"h4",gutterBottom:!0,children:b}),Object(j.jsx)(d.c,Object(a.a)({links:t},O))]}),n&&Object(j.jsx)(o.a,{sx:{flexShrink:0},children:n})]}),Object(r.isString)(p)?Object(j.jsx)(l.a,{href:p,target:"_blank",variant:"body2",children:p}):p.map((function(e){return Object(j.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"flex"},children:e},e)}))]})}},2771:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n(591),i=n(2850);function r(e){return Object(a.a)(new Date(e),"dd MMMM yyyy")}function c(e){return Object(a.a)(new Date(e),"dd MMM yyyy HH:mm")}function o(e){return Object(a.a)(new Date(e),"dd/MM/yyyy hh:mm p")}function s(e){return Object(i.a)(new Date(e),{addSuffix:!0})}},2817:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(4),i=n(31),r=n(2733),c=n(598),o=n(0);function s(e){var t=e.searchQuery,n=void 0===t?"":t,s=Object(i.a)(e,["searchQuery"]);return Object(o.jsxs)(r.a,Object(a.a)(Object(a.a)({},s),{},{children:[Object(o.jsx)(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Not found"}),Object(o.jsxs)(c.a,{variant:"body2",align:"center",children:["No results found for \xa0",Object(o.jsxs)("strong",{children:['"',n,'"']}),". Try checking for typos or using complete words."]})]}))}},2973:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(31),i=n(4),r=n(8),c=n(0),o=Object(r.a)("span")((function(e){var t=e.theme,n=e.styleProps,a=n.size,r=n.status;return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center","&:before, &:after":{content:"''",borderRadius:1,backgroundColor:t.palette.common.white}},"small"===a?{height:t.spacing(1),width:t.spacing(1)}:{height:t.spacing(1.25),width:t.spacing(1.25)}),"offline"===r&&{backgroundColor:"transparent"}),"away"===r&&{backgroundColor:t.palette.warning.main,"&:before":{width:2,height:4,transform:"translateX(1px) translateY(-1px)"},"&:after":{width:2,height:4,transform:"translateY(1px) rotate(125deg)"}}),"busy"===r&&{backgroundColor:t.palette.error.main,"&:before":{width:6,height:2}}),"online"===r&&{backgroundColor:t.palette.success.main}),"invisible"===r&&{backgroundColor:t.palette.text.disabled,"&:before":{width:6,height:6,borderRadius:"50%"}}),"unread"===r&&{backgroundColor:t.palette.info.main})}));function s(e){var t=e.size,n=void 0===t?"medium":t,r=e.status,s=void 0===r?"offline":r,l=Object(a.a)(e,["size","status"]);return Object(c.jsx)(o,Object(i.a)({styleProps:{status:s,size:n}},l))}},2995:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(31),i=n(4),r=n(1),c=n(3151),o=n(2685),s=n(25),l=n(598),d=n(0),j=Object(o.a)((function(e){var t="rtl"===e.direction,n=function(t){return{backgroundSize:"24px 24px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:Object(s.a)(e.palette.grey[900],.8),backgroundImage:'url("/static/icons/controls/'.concat(t,'.svg")')}};return{root:{backdropFilter:"blur(8px)",backgroundColor:Object(s.a)(e.palette.grey[900],.88),"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-child":{flexGrow:1},"& li:not(:first-child)":{width:e.spacing(5),height:e.spacing(5),justifyContent:"center",marginLeft:e.spacing(1),borderRadius:e.shape.borderRadius}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":n("maximize-outline"),"&.ril__zoomOutButton":n("minimize-outline"),"&.ril__closeButton":n("close")},"& .ril__navButtons":{padding:e.spacing(3),borderRadius:e.shape.borderRadiusSm,"&.ril__navButtonPrev":Object(i.a)({left:e.spacing(2),right:"auto"},n(t?"arrow-ios-forward":"arrow-ios-back")),"&.ril__navButtonNext":Object(i.a)({right:e.spacing(2),left:"auto"},n(t?"arrow-ios-back":"arrow-ios-forward"))}}}}));function b(e){var t=e.images,n=e.photoIndex,o=e.setPhotoIndex,s=e.isOpen,b=e.onClose,u=Object(a.a)(e,["images","photoIndex","setPhotoIndex","isOpen","onClose"]),p=j();Object(r.useEffect)((function(){document.body.style.overflow=s?"hidden":"unset"}),[s]);var h=[Object(d.jsx)(l.a,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return Object(d.jsx)(d.Fragment,{children:s&&Object(d.jsx)(c.a,Object(i.a)({mainSrc:t[n],nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onCloseRequest:b,onMovePrevRequest:function(){return o((n+t.length-1)%t.length)},onMoveNextRequest:function(){return o((n+1)%t.length)},toolbarButtons:h,reactModalStyle:{overlay:{zIndex:9999}},wrapperClassName:p.root},u))})}},3201:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(17),i=n(31),r=n(4),c=(n(3463),n(3520)),o=n(27),s=n(1),l=n(3464),d=n.n(l),j=n(8),b=n(25),u=n(58),p=n(2695),h=n(2728),O=n(0),x=Object(j.a)("div")({position:"relative"}),f=Object(j.a)("div")((function(e){var t=e.theme;return{bottom:40,overflow:"hidden",position:"absolute",left:t.spacing(-2),boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadiusMd,"& .emoji-mart":{border:"none",backgroundColor:t.palette.background.paper},"& .emoji-mart-anchor":{color:t.palette.text.disabled,"&:hover, &:focus, &.emoji-mart-anchor-selected":{color:t.palette.text.primary}},"& .emoji-mart-bar":{borderColor:t.palette.divider},"& .emoji-mart-search input":{backgroundColor:"transparent",color:t.palette.text.primary,borderColor:t.palette.grey[50032],"&::placeholder":Object(r.a)(Object(r.a)({},t.typography.body2),{},{color:t.palette.text.disabled})},"& .emoji-mart-search-icon svg":{opacity:1,fill:t.palette.text.disabled},"& .emoji-mart-category-label span":Object(r.a)(Object(r.a)({},t.typography.subtitle2),{},{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",color:t.palette.text.primary,backgroundColor:Object(b.a)(t.palette.background.paper,.8)}),"& .emoji-mart-title-label":{color:t.palette.text.primary},"& .emoji-mart-category .emoji-mart-emoji:hover:before":{backgroundColor:t.palette.action.selected},"& .emoji-mart-emoji":{outline:"none"},"& .emoji-mart-preview-name":{color:t.palette.text.primary},"& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon":{color:t.palette.text.secondary}}}));function g(e){var t,n=e.disabled,l=e.value,j=e.setValue,b=e.alignRight,g=void 0!==b&&b,m=Object(i.a)(e,["disabled","value","setValue","alignRight"]),v=Object(u.a)(),y=Object(s.useState)(!1),w=Object(a.a)(y,2),C=w[0],k=w[1];C&&(t=Object(O.jsx)(c.a,{color:v.palette.primary.main,title:"Pick your emoji\u2026",emoji:"point_up",onSelect:function(e){return j(l+e.native)}}));return Object(O.jsx)(p.a,{onClickAway:function(){k(!1)},children:Object(O.jsxs)(x,Object(r.a)(Object(r.a)({},m),{},{children:[Object(O.jsx)(f,{sx:Object(r.a)({},g&&{right:-2,left:"auto !important"}),children:t}),Object(O.jsx)(h.a,{disabled:n,size:"small",onClick:function(e){e.preventDefault(),k(!C)},children:Object(O.jsx)(o.Icon,{icon:d.a,width:20,height:20})})]}))})}},3204:function(e,t,n){"use strict";n.d(t,"d",(function(){return T})),n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return z})),n.d(t,"c",(function(){return M}));var a=n(4),i=n(27),r=n(235),c=n.n(r),o=n(3205),s=n.n(o),l=n(3206),d=n.n(l),j=n(3207),b=n.n(j),u=n(3208),p=n.n(u),h=n(3209),O=n.n(h),x=n(3210),f=n.n(x),g=n(3211),m=n.n(g),v=n(0),y={width:28,height:28},w=["jpg","jpeg","gif","bmp","png"],C=["m4v","avi","mpg","mp4","webm"],k=["doc","docx"],I=["xls","xlsx"],S=["ppt","pptx"],R=["pdf"],P=["psd"],W=["ai","esp"];function T(e){return e.split(".").pop()}function A(e){return e.substring(e.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"")}function z(e){return e.split("/").pop()}function M(e){var t;switch(function(e){var t;switch(e.includes(T(e))){case w.includes(T(e)):t="image";break;case C.includes(T(e)):t="video";break;case k.includes(T(e)):t="word";break;case I.includes(T(e)):t="excel";break;case S.includes(T(e)):t="powerpoint";break;case R.includes(T(e)):t="pdf";break;case P.includes(T(e)):t="photoshop";break;case W.includes(T(e)):t="illustrator";break;default:t=T(e)}return t}(e)){case"image":t=Object(v.jsx)("img",{src:e,alt:e});break;case"video":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:O.a},y));break;case"word":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:b.a},y));break;case"excel":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:p.a},y));break;case"powerpoint":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:f.a},y));break;case"pdf":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:s.a},y));break;case"photoshop":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:m.a},y));break;case"illustrator":t=Object(v.jsx)(i.Icon,Object(a.a)({icon:d.a},y));break;default:t=Object(v.jsx)(i.Icon,Object(a.a)({icon:c.a},y))}return t}},4570:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Yt}));var a=n(1),i=n(2739),r=n(2750),c=n(298),o=n(402),s=n(20),l=n(378),d=n(2756),j=n(17),b=n(27),u=n(4095),p=n(533),h=n.n(p),O=n(3086),x=n.n(O),f=n(4099),g=n.n(f),m=n(375),v=n(2740),y=n(598),w=n(2751),C=n(2728),k=n(2639),I=n(2727),S=n(372),R=n(2724),P=n(2725),W=n(2709),T=n(57),A=n(245),z=n(2973),M=n(0),_=["online","invisible","away"];function D(){var e=Object(T.a)().user,t=Object(a.useState)(null),n=Object(j.a)(t,2),i=n[0],r=n[1],c=Object(a.useState)("online"),o=Object(j.a)(c,2),s=o[0],l=o[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(m.a,{sx:{position:"relative"},children:[Object(M.jsx)(A.a,{onClick:function(e){r(e.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),Object(M.jsx)(z.a,{status:s,sx:{position:"absolute",bottom:2,right:2}})]}),Object(M.jsxs)(v.a,{open:Boolean(i),anchorEl:i,onClose:function(){r(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(M.jsxs)(m.a,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[Object(M.jsx)(A.a,{}),Object(M.jsxs)(m.a,{sx:{ml:2,mr:3},children:[Object(M.jsx)(y.a,{noWrap:!0,variant:"subtitle1",children:e.displayName}),Object(M.jsx)(y.a,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:e.email})]}),Object(M.jsx)(w.a,{title:"Log out",children:Object(M.jsx)(C.a,{children:Object(M.jsx)(b.Icon,{icon:g.a,width:24,height:24})})})]}),Object(M.jsx)(k.a,{}),Object(M.jsxs)(I.a,{children:[Object(M.jsxs)(S.b,{disableGutters:!0,sx:{py:1,px:2.5},children:[Object(M.jsx)(R.a,{children:Object(M.jsx)(m.a,{sx:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(M.jsx)(z.a,{status:s})})}),Object(M.jsx)(P.a,{children:Object(M.jsx)(W.a,{native:!0,fullWidth:!0,size:"small",value:s,onChange:function(e){l(e.target.value)},sx:{"& svg":{display:"none"},"& select":{padding:0,typography:"body2","&:focus":{bgcolor:"transparent"}},"& fieldset":{borderWidth:"0 !important"}},children:_.map((function(e){return Object(M.jsx)("option",{value:e,children:Object(u.a)(e)},e)}))})})]}),Object(M.jsxs)(S.b,{button:!0,disableGutters:!0,sx:{py:1,px:2.5},children:[Object(M.jsx)(R.a,{children:Object(M.jsx)(b.Icon,{icon:x.a,width:24,height:24})}),Object(M.jsx)(P.a,{primary:"Profile",primaryTypographyProps:{variant:"body2"}})]}),Object(M.jsxs)(S.b,{button:!0,disableGutters:!0,sx:{py:1,px:2.5},children:[Object(M.jsx)(R.a,{children:Object(M.jsx)(b.Icon,{icon:h.a,width:24,height:24})}),Object(M.jsx)(P.a,{primary:"Settings",primaryTypographyProps:{variant:"body2"}})]})]})]})]})}var G=n(4),L=n(31),B=n(2808),E=n.n(B),F=n(8),U=n(2720),q=n(2695),N=n(2746),H=n(2748),Q=Object(F.a)("div")((function(e){return{marginTop:e.theme.spacing(2)}})),V=Object(F.a)(U.a)((function(e){var t=e.theme;return{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function Y(e){var t=e.query,n=e.onChange,a=e.onFocus,i=e.onClickAway,r=Object(L.a)(e,["query","onChange","onFocus","onClickAway"]);return Object(M.jsx)(q.a,{onClickAway:i,children:Object(M.jsx)(Q,Object(G.a)(Object(G.a)({},r),{},{children:Object(M.jsx)(N.a,{fullWidth:!0,size:"small",children:Object(M.jsx)(V,{value:t,onFocus:a,onChange:n,placeholder:"Search contacts...",startAdornment:Object(M.jsx)(H.a,{position:"start",children:Object(M.jsx)(m.a,{component:b.Icon,icon:E.a,sx:{color:"text.disabled"}})})})})}))})}var J=n(19),K=n(30),X=n(4625),$=n(3048),Z=n(2717),ee=Object(F.a)(S.b)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create("all")}})),te=Object(F.a)("div")({position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}});function ne(e){var t=e.isSelected,n=e.conversation,a=e.onSelectConversation,i=e.isOpenSidebar,r=Object(L.a)(e,["isSelected","conversation","onSelectConversation","isOpenSidebar"]),c=function(e,t){var n=e.participants.filter((function(e){return e.id!==t})),a=n.reduce((function(e,t){return[].concat(Object(J.a)(e),[t.name])}),[]).join(", "),i="",r=e.messages[e.messages.length-1];if(r){var c=r.senderId===t?"You: ":"",o="image"===r.contentType?"Sent a photo":r.body;i="".concat(c).concat(o)}return{otherParticipants:n,displayNames:a,displayText:i}}(n,"8864c717-587d-472a-929a-8e5f298024da-0"),o=Object(K.last)(n.messages).createdAt,s=c.otherParticipants.length>1,l=n.unreadCount>0,d=s&&c.otherParticipants.map((function(e){return e.status})).includes("online");return Object(M.jsxs)(ee,Object(G.a)(Object(G.a)({button:!0,disableGutters:!0,onClick:a,sx:Object(G.a)({},t&&{bgcolor:"action.selected"})},r),{},{children:[Object(M.jsx)($.a,{children:Object(M.jsxs)(m.a,{sx:Object(G.a)({},s&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-child(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(e){return"solid 2px ".concat(e.palette.background.paper)}}},"&:nth-child(2)":{top:2,right:0}}}),children:[c.otherParticipants.slice(0,2).map((function(e){return Object(M.jsxs)(te,{className:"avatarWrapper",children:[Object(M.jsx)(Z.a,{alt:e.name,src:e.avatar}),!s&&Object(M.jsx)(z.a,{status:e.status,sx:{right:2,bottom:2,position:"absolute"}})]},e.id)})),d&&Object(M.jsx)(z.a,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),i&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(P.a,{primary:c.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:c.displayText,secondaryTypographyProps:{noWrap:!0,variant:l?"subtitle2":"body2",color:l?"textPrimary":"textSecondary"}}),Object(M.jsxs)(m.a,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[Object(M.jsx)(m.a,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:Object(X.a)(new Date(o),{addSuffix:!1})}),l&&Object(M.jsx)(z.a,{status:"unread",size:"small"})]})]})]}))}var ae=n(38);function ie(e){var t=e.conversations,n=e.isOpenSidebar,a=e.activeConversationId,i=Object(L.a)(e,["conversations","isOpenSidebar","activeConversationId"]),r=Object(ae.h)();return Object(M.jsx)(I.a,Object(G.a)(Object(G.a)({disablePadding:!0},i),{},{children:t.allIds.map((function(e){return Object(M.jsx)(ne,{isOpenSidebar:n,conversation:t.byId[e],isSelected:a===e,onSelectConversation:function(){return function(e){var n="",a=t.byId[e];n="GROUP"===a.type?a.id:a.participants.find((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id})).username,r("".concat(s.b.chat.root,"/").concat(n))}(e)}},e)}))}))}var re=n(2908),ce=n.n(re),oe=n(2909),se=n.n(oe),le=n(2832),de=n.n(le),je=n(25),be=n(3270),ue=n(2743),pe=n(39),he=n(2817),Oe=Object(F.a)("div")((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(2,3)}})),xe=Object(F.a)("div")((function(e){var t=e.theme;return{"& .MuiAutocomplete-root":{minWidth:280,marginLeft:t.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:t.customShadows.z8}},"& .MuiAutocomplete-inputRoot":{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}}));function fe(e){var t=e.contacts,n=e.recipients,i=e.onAddRecipient,r=Object(L.a)(e,["contacts","recipients","onAddRecipient"]),c=Object(a.useState)(""),o=Object(j.a)(c,2),s=o[0],l=o[1];return Object(M.jsxs)(Oe,Object(G.a)(Object(G.a)({},r),{},{children:[Object(M.jsx)(y.a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),Object(M.jsx)(xe,{children:Object(M.jsx)(be.a,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,clearText:null,noOptionsText:Object(M.jsx)(he.a,{searchQuery:s}),onChange:function(e,t){l(""),i&&i(t)},onInputChange:function(e){l(e.target.value)},options:t,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var a=n.inputValue,i=n.selected,r=t.name,c=t.avatar,o=se()(r,a),s=ce()(r,o);return Object(M.jsxs)("li",Object(G.a)(Object(G.a)({},e),{},{children:[Object(M.jsxs)(m.a,{sx:{width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[Object(M.jsx)(Z.a,{alt:r,src:c}),Object(M.jsx)(m.a,{sx:Object(G.a)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(e){return Object(je.a)(e.palette.grey[900],.8)},transition:function(e){return e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter})}},i&&{opacity:1,color:"primary.main"}),children:Object(M.jsx)(b.Icon,{icon:de.a,width:20,height:20})})]}),Object(M.jsx)(m.a,{sx:{ml:2}}),s.map((function(e,t){return Object(M.jsx)(y.a,{variant:"subtitle2",color:e.highlight?"primary":"textPrimary",children:e.text},t)}))]}))},renderTags:function(e,t){return e.map((function(e,n){var a=e.id,i=e.name,r=e.avatar;return Object(M.jsx)(pe.g,Object(G.a)({size:"small",label:i,color:"info",avatar:Object(M.jsx)(Z.a,{alt:i,src:r})},t({index:n})),a)}))},renderInput:function(e){return Object(M.jsx)(ue.a,Object(G.a)(Object(G.a)({},e),{},{placeholder:0===n.length?"Recipients":""}))}})})]}))}var ge=n(4100),me=n.n(ge),ve=n(3013),ye=n.n(ve),we=n(2801),Ce=n.n(we),ke=n(126),Ie=n.n(ke),Se=n(3110),Re=n(2730),Pe=n(2771),We=Object(F.a)("div")((function(e){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:e.theme.spacing(0,3)}}));function Te(e){var t=e.participants,n=Object(J.a)(t)[0];return void 0===n?null:Object(M.jsxs)(m.a,{sx:{display:"flex",alignItems:"center"},children:[Object(M.jsxs)(m.a,{sx:{position:"relative"},children:[Object(M.jsx)(Z.a,{src:n.avatar,alt:n.name}),Object(M.jsx)(z.a,{status:n.status,sx:{position:"absolute",right:2,bottom:2}})]}),Object(M.jsxs)(m.a,{sx:{ml:2},children:[Object(M.jsx)(y.a,{variant:"subtitle2",children:n.name}),Object(M.jsx)(y.a,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==n.status?Object(u.a)(n.status):Object(Pe.d)(n.lastActivity)})]})]})}function Ae(e){var t=e.participants;return Object(M.jsxs)("div",{children:[Object(M.jsx)(Se.a,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:t.map((function(e){return Object(M.jsx)(Z.a,{alt:e.name,src:e.avatar},e.id)}))}),Object(M.jsx)(Re.a,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:Object(M.jsxs)(m.a,{sx:{display:"flex",alignItems:"center"},children:[t.length," persons",Object(M.jsx)(b.Icon,{icon:Ie.a})]})})]})}function ze(e){var t=e.participants,n=Object(L.a)(e,["participants"]),a=t.length>1;return Object(M.jsxs)(We,Object(G.a)(Object(G.a)({},n),{},{children:[a?Object(M.jsx)(Ae,{participants:t}):Object(M.jsx)(Te,{participants:t}),Object(M.jsx)(m.a,{sx:{flexGrow:1}}),Object(M.jsx)(pe.k,{children:Object(M.jsx)(b.Icon,{icon:ye.a,width:20,height:20})}),Object(M.jsx)(pe.k,{children:Object(M.jsx)(b.Icon,{icon:me.a,width:20,height:20})}),Object(M.jsx)(pe.k,{children:Object(M.jsx)(b.Icon,{icon:Ce.a,width:20,height:20})})]}))}var Me=n(5),_e=n.n(Me),De=n(4101),Ge=n.n(De),Le=n(3088),Be=n.n(Le),Ee=n(3012),Fe=n.n(Ee),Ue=n(2972),qe=n.n(Ue),Ne=n(2744),He=n(2633),Qe=n(3201),Ve=Object(F.a)("div")((function(e){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:e.theme.spacing(2)}}));function Ye(e){var t=e.disabled,n=e.conversationId,i=e.onSend,r=Object(L.a)(e,["disabled","conversationId","onSend"]),c=Object(a.useRef)(null),o=Object(a.useState)(""),s=Object(j.a)(o,2),l=s[0],d=s[1],u=function(){c.current.click()},p=function(){return l?(i&&i({conversationId:n,messageId:_e.a.datatype.uuid(),message:l,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),d("")):""};return Object(M.jsxs)(Ve,Object(G.a)(Object(G.a)({},r),{},{children:[Object(M.jsx)(Ne.a,{disabled:t,fullWidth:!0,value:l,disableUnderline:!0,onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||p()},onChange:function(e){d(e.target.value)},placeholder:"Type a message",startAdornment:Object(M.jsx)(H.a,{position:"start",children:Object(M.jsx)(Qe.a,{disabled:t,value:l,setValue:d})}),endAdornment:Object(M.jsxs)(He.a,{direction:"row",spacing:.5,mr:1.5,children:[Object(M.jsx)(C.a,{disabled:t,size:"small",onClick:u,children:Object(M.jsx)(b.Icon,{icon:qe.a,width:24,height:24})}),Object(M.jsx)(C.a,{disabled:t,size:"small",onClick:u,children:Object(M.jsx)(b.Icon,{icon:Fe.a,width:24,height:24})}),Object(M.jsx)(C.a,{disabled:t,size:"small",children:Object(M.jsx)(b.Icon,{icon:Ge.a,width:24,height:24})})]}),sx:{height:"100%"}}),Object(M.jsx)(k.a,{orientation:"vertical",flexItem:!0}),Object(M.jsx)(C.a,{color:"primary",disabled:!l,onClick:p,sx:{mx:1},children:Object(M.jsx)(b.Icon,{icon:Be.a,width:24,height:24})}),Object(M.jsx)("input",{type:"file",ref:c,style:{display:"none"}})]}))}var Je=Object(F.a)("div")((function(e){return{display:"flex",marginBottom:e.theme.spacing(3)}})),Ke=Object(F.a)("div")((function(e){var t=e.theme;return{maxWidth:320,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),Xe=Object(F.a)(y.a)((function(e){var t=e.theme;return{display:"flex",marginBottom:t.spacing(.75),color:t.palette.text.secondary}})),$e=Object(F.a)("img")((function(e){return{height:200,minWidth:296,width:"100%",cursor:"pointer",objectFit:"cover",borderRadius:e.theme.shape.borderRadius}}));function Ze(e){var t=e.message,n=e.conversation,a=e.onOpenLightbox,i=Object(L.a)(e,["message","conversation","onOpenLightbox"]),r=n.participants.find((function(e){return e.id===t.senderId})),c="8864c717-587d-472a-929a-8e5f298024da-0"===t.senderId?{type:"me"}:{avatar:r.avatar,name:r.name},o="me"===c.type,s="image"===t.contentType,l=c.name&&c.name.split(" ")[0];return Object(M.jsx)(Je,Object(G.a)(Object(G.a)({},i),{},{children:Object(M.jsxs)(m.a,{sx:Object(G.a)({display:"flex"},o&&{ml:"auto"}),children:["me"!==c.type&&Object(M.jsx)(Z.a,{alt:c.name,src:c.avatar,sx:{width:32,height:32}}),Object(M.jsxs)(m.a,{sx:{ml:2},children:[Object(M.jsxs)(Xe,{noWrap:!0,variant:"caption",sx:Object(G.a)({},o&&{justifyContent:"flex-end"}),children:[!o&&"".concat(l,","),"\xa0",Object(X.a)(new Date(t.createdAt),{addSuffix:!0})]}),Object(M.jsx)(Ke,{sx:Object(G.a)({},o&&{color:"grey.800",bgcolor:"primary.lighter"}),children:s?Object(M.jsx)($e,{alt:"attachment",src:t.body,onClick:function(){return a(t.body)}}):Object(M.jsx)(y.a,{variant:"body2",children:t.body})})]})]})}))}var et=n(102),tt=n(2995);function nt(e){var t=e.conversation,n=Object(a.useRef)(),i=Object(a.useState)(!1),r=Object(j.a)(i,2),c=r[0],o=r[1],s=Object(a.useState)(null),l=Object(j.a)(s,2),d=l[0],b=l[1];Object(a.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var u=t.messages.filter((function(e){return"image"===e.contentType})).map((function(e){return e.body})),p=function(e){var t=Object(K.findIndex)(u,(function(t){return t===e}));o(!0),b(t)};return Object(M.jsxs)(et.a,{scrollableNodeProps:{ref:n},sx:{p:3,flexGrow:1},children:[t.messages.map((function(e){return Object(M.jsx)(Ze,{message:e,conversation:t,onOpenLightbox:p},e.id)})),Object(M.jsx)(tt.a,{images:u,photoIndex:d,setPhotoIndex:b,isOpen:c,onClose:function(){return o(!1)}})]})}var at=n(2792),it=n.n(at),rt=n(58),ct=n(2692),ot=n(105),st=n.n(ot),lt=n(297),dt=n(2726),jt=n(3204),bt=Object(F.a)("div")((function(e){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:e.theme.spacing(2)}})),ut=Object(F.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),pt=Object(F.a)("div")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016],"& img":{width:"100%",height:"100%"},"& svg":{width:24,height:24}}})),ht=Object(F.a)(lt.a)((function(e){var t=e.theme;return Object(G.a)(Object(G.a)({},t.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function Ot(e){var t=e.file,n=e.fileUrl;return Object(M.jsxs)(ut,{children:[Object(M.jsx)(pt,{children:Object(jt.c)(n)}),Object(M.jsxs)(m.a,{sx:{ml:1.5,maxWidth:150},children:[Object(M.jsx)(y.a,{variant:"body2",noWrap:!0,children:Object(jt.a)(n)}),Object(M.jsx)(y.a,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:Object(Pe.b)(t.createdAt)})]})]},n)}function xt(e){var t=e.conversation,n=e.isCollapse,a=e.onCollapse,i=Object(L.a)(e,["conversation","isCollapse","onCollapse"]),r=Object(K.uniq)(Object(K.flatten)(t.messages.map((function(e){return e.attachments})))).length;return Object(M.jsxs)(bt,Object(G.a)(Object(G.a)({},i),{},{children:[Object(M.jsxs)(ht,{fullWidth:!0,color:"inherit",onClick:a,endIcon:Object(M.jsx)(b.Icon,{icon:n?st.a:Ie.a,width:16,height:16}),children:["attachment (",r,")"]}),!n&&Object(M.jsx)(k.a,{}),Object(M.jsx)(et.a,{children:Object(M.jsx)(dt.a,{in:n,children:t.messages.map((function(e){return Object(M.jsx)("div",{children:e.attachments.map((function(t){return Object(M.jsx)(Ot,{file:e,fileUrl:t},t)}))},e.id)}))})})]}))}var ft=n(3087),gt=n.n(ft),mt=n(2896),vt=n.n(mt),yt=Object(F.a)(lt.a)((function(e){var t=e.theme;return Object(G.a)(Object(G.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})})),wt=Object(F.a)(b.Icon)((function(e){return{width:16,height:16,marginTop:4,color:e.theme.palette.text.secondary}})),Ct=Object(F.a)(y.a)((function(e){var t=e.theme;return Object(G.a)({flexGrow:1,maxWidth:160,wordWrap:"break-word"},t.typography.body2)}));function kt(e){var t=e.participants,n=e.isCollapse,a=e.onCollapse,i=Object(L.a)(e,["participants","isCollapse","onCollapse"]),r=Object(J.a)(t)[0];return void 0===r?null:Object(M.jsxs)(m.a,Object(G.a)(Object(G.a)({},i),{},{children:[Object(M.jsxs)(m.a,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(M.jsx)(Z.a,{alt:r.name,src:r.avatar,sx:{width:96,height:96}}),Object(M.jsxs)(m.a,{sx:{mt:2,textAlign:"center"},children:[Object(M.jsx)(y.a,{variant:"subtitle1",children:r.name}),Object(M.jsx)(y.a,{variant:"body2",sx:{color:"text.secondary"},children:r.position})]})]}),Object(M.jsx)(k.a,{}),Object(M.jsx)(yt,{fullWidth:!0,color:"inherit",onClick:a,endIcon:Object(M.jsx)(b.Icon,{icon:n?st.a:Ie.a,width:16,height:16}),children:"information"}),Object(M.jsx)(dt.a,{in:n,children:Object(M.jsxs)(He.a,{spacing:2,sx:{p:2.5,pt:1},children:[Object(M.jsxs)(He.a,{direction:"row",spacing:1,children:[Object(M.jsx)(wt,{icon:gt.a}),Object(M.jsx)(Ct,{children:r.address})]}),Object(M.jsxs)(He.a,{direction:"row",spacing:1,children:[Object(M.jsx)(wt,{icon:ye.a}),Object(M.jsx)(Ct,{children:r.phone})]}),Object(M.jsxs)(He.a,{direction:"row",spacing:1,children:[Object(M.jsx)(wt,{icon:vt.a}),Object(M.jsx)(Ct,{children:r.email})]})]})})]}))}var It=n(3111),St=n(164),Rt=Object(F.a)("div")((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.theme.spacing(1.5)}})),Pt=Object(F.a)(b.Icon)((function(e){var t=e.theme;return{width:16,height:16,marginRight:t.spacing(1),color:t.palette.text.secondary}}));function Wt(e){var t=e.participant,n=e.isOpen,a=e.onClose,i=Object(L.a)(e,["participant","isOpen","onClose"]),r=t.name,c=t.avatar,o=t.position,s=t.address,l=t.phone,d=t.email;return Object(M.jsx)(St.b,Object(G.a)(Object(G.a)({fullWidth:!0,maxWidth:"xs",open:n,onClose:a},i),{},{children:Object(M.jsxs)(It.a,{sx:{pb:5,textAlign:"center"},children:[Object(M.jsx)(Z.a,{alt:r,src:c,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),Object(M.jsx)(y.a,{variant:"h6",children:r}),Object(M.jsx)(y.a,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:o}),Object(M.jsxs)(Rt,{children:[Object(M.jsx)(Pt,{icon:gt.a}),Object(M.jsx)(y.a,{variant:"body2",children:s})]}),Object(M.jsxs)(Rt,{children:[Object(M.jsx)(Pt,{icon:ye.a}),Object(M.jsx)(y.a,{variant:"body2",children:l})]}),Object(M.jsxs)(Rt,{children:[Object(M.jsx)(Pt,{icon:vt.a}),Object(M.jsx)(y.a,{variant:"body2",children:d})]})]})}))}var Tt=Object(F.a)(lt.a)((function(e){var t=e.theme;return Object(G.a)(Object(G.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function At(e){var t=e.participant,n=e.isOpen,a=e.onClosePopup,i=e.onShowPopup,r=t.name,c=t.avatar,o=t.status,s=t.position;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(S.b,{button:!0,disableGutters:!0,onClick:i,sx:{height:64,px:2.5},children:[Object(M.jsx)($.a,{children:Object(M.jsxs)(m.a,{sx:{position:"relative",width:40,height:40},children:[Object(M.jsx)(Z.a,{alt:r,src:c}),Object(M.jsx)(z.a,{status:o,sx:{right:0,bottom:0,position:"absolute"}})]})}),Object(M.jsx)(P.a,{primary:r,secondary:s,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),Object(M.jsx)(Wt,{participant:t,isOpen:n,onClose:a})]})}function zt(e){var t=e.participants,n=e.selectUserId,a=e.onShowPopupUserInfo,i=e.isCollapse,r=e.onCollapse,c=Object(L.a)(e,["participants","selectUserId","onShowPopupUserInfo","isCollapse","onCollapse"]);return Object(M.jsxs)(m.a,Object(G.a)(Object(G.a)({},c),{},{children:[Object(M.jsxs)(Tt,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:r,endIcon:Object(M.jsx)(b.Icon,{icon:i?st.a:Ie.a,width:16,height:16}),children:["In room (",t.length,")"]}),Object(M.jsx)(m.a,{sx:{height:i?256:0},children:Object(M.jsx)(et.a,{children:Object(M.jsx)(dt.a,{in:i,children:Object(M.jsx)(I.a,{disablePadding:!0,children:t.map((function(e){return Object(M.jsx)(At,{participant:e,isOpen:n===e.id,onShowPopup:function(){return a(e.id)},onClosePopup:function(){return a(null)}},e.id)}))})})})})]}))}var Mt=Object(F.a)("div")((function(e){var t=e.theme;return{width:240,flexShrink:0,display:"flex",position:"relative",flexDirection:"column",borderLeft:"solid 1px ".concat(t.palette.divider),transition:t.transitions.create("width")}})),_t=Object(F.a)("div")((function(e){var t=e.theme;return{borderRight:0,display:"flex",overflow:"hidden",position:"absolute",alignItems:"center",top:t.spacing(1),left:t.spacing(-4),width:t.spacing(4),height:t.spacing(4),justifyContent:"center",boxShadow:t.customShadows.z8,border:"solid 1px ".concat(t.palette.divider),borderTopLeftRadius:t.shape.borderRadius,backgroundColor:t.palette.background.paper,borderBottomLeftRadius:t.shape.borderRadius}}));function Dt(e){var t=e.conversation,n=e.participants,i=Object(L.a)(e,["conversation","participants"]),r=Object(rt.a)(),c=Object(ct.a)(r.breakpoints.down("lg")),o=Object(a.useState)(!0),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(!0),p=Object(j.a)(u,2),h=p[0],O=p[1],x=Object(a.useState)(null),f=Object(j.a)(x,2),g=f[0],m=f[1],v=Object(a.useState)(!0),y=Object(j.a)(v,2),w=y[0],I=y[1],S=Object(a.useState)(!0),R=Object(j.a)(S,2),P=R[0],W=R[1],T=n.length>1;return Object(a.useEffect)((function(){return d(!c)}),[c]),Object(M.jsxs)(Mt,Object(G.a)(Object(G.a)({sx:Object(G.a)({},!l&&{width:0,"& > *":{overflow:"hidden"}})},i),{},{children:[Object(M.jsx)(_t,{children:Object(M.jsx)(C.a,{onClick:function(){return d(!l)},children:Object(M.jsx)(b.Icon,{width:16,height:16,icon:l?Ie.a:it.a})})}),T?Object(M.jsx)(zt,{selectUserId:g,participants:n,isCollapse:P,onShowPopupUserInfo:function(e){return m(e)},onCollapse:function(){return W((function(e){return!e}))}}):Object(M.jsx)(kt,{participants:n,isCollapse:h,onCollapse:function(){return O((function(e){return!e}))}}),Object(M.jsx)(k.a,{}),Object(M.jsx)(xt,{conversation:t,isCollapse:w,onCollapse:function(){return I((function(e){return!e}))}})]}))}function Gt(e){var t=e.query,n=e.results,a=e.onSelectContact,i=n.length>0;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(y.a,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),Object(M.jsx)(I.a,{disablePadding:!0,children:n.map((function(e){return Object(M.jsxs)(S.b,{button:!0,onClick:function(){return a(e)},sx:{py:1.5,px:3},children:[Object(M.jsx)($.a,{children:Object(M.jsx)(Z.a,{alt:e.name,src:e.avatar})}),Object(M.jsx)(P.a,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))}),!i&&Object(M.jsx)(he.a,{searchQuery:t,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var Lt=n(16),Bt=n.n(Lt),Et=n(26),Ft=n(2851),Ut=n.n(Ft),qt=n(28),Nt=n(34),Ht=Object(F.a)("div")((function(e){var t=e.theme;return{width:320,flexShrink:0,display:"flex",flexDirection:"column",transition:t.transitions.create("width"),borderRight:"1px solid ".concat(t.palette.divider)}}));function Qt(){var e=Object(rt.a)(),t=Object(ae.h)(),n=Object(ct.a)(e.breakpoints.down("md")),i=Object(a.useState)(!0),r=Object(j.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(""),u=Object(j.a)(d,2),p=u[0],h=u[1],O=Object(a.useState)([]),x=Object(j.a)(O,2),f=x[0],g=x[1],v=Object(a.useState)(!1),y=Object(j.a)(v,2),w=y[0],C=y[1],k=p&&w,I=Object(c.d)((function(e){return e.chat})),S=I.conversations,R=I.activeConversationId;Object(a.useEffect)((function(){return l(!n)}),[n]),Object(a.useEffect)((function(){if(!o)return C(!1)}),[o]);var P=function(){var e=Object(Et.a)(Bt.a.mark((function e(t){var n,a;return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,h(n),!n){e.next=10;break}return e.next=6,Nt.a.get("/api/chat/search",{params:{query:n}});case 6:a=e.sent,g(a.data.results),e.next=11;break;case 10:g([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){C(!1),h(""),t("".concat(s.b.chat.root,"/").concat(e))};return Object(M.jsxs)(Ht,{sx:Object(G.a)({},!o&&{width:96}),children:[Object(M.jsxs)(m.a,{sx:{py:2,px:3},children:[Object(M.jsxs)(m.a,{sx:{display:"flex",alignItems:"center"},children:[o&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(D,{}),Object(M.jsx)(m.a,{sx:{flexGrow:1}})]}),Object(M.jsx)(pe.k,{onClick:function(){return l(!o)},children:Object(M.jsx)(b.Icon,{width:20,height:20,icon:o?it.a:Ie.a})}),o&&Object(M.jsx)(pe.k,{to:s.b.chat.new,component:qt.b,children:Object(M.jsx)(b.Icon,{icon:Ut.a,width:20,height:20})})]}),o&&Object(M.jsx)(Y,{query:p,onFocus:function(){C(!0)},onChange:P,onClickAway:function(){C(!1),h("")}})]}),Object(M.jsx)(et.a,{children:k?Object(M.jsx)(Gt,{query:p,results:f,onSelectContact:function(e){W&&W(e.username)}}):Object(M.jsx)(ie,{conversations:S,isOpenSidebar:o,activeConversationId:R,sx:Object(G.a)({},w&&{display:"none"})})})]})}function Vt(){var e=Object(c.c)(),t=Object(ae.h)(),n=Object(ae.g)().pathname,i=Object(ae.i)().conversationKey,r=Object(c.d)((function(e){return e.chat})),l=r.contacts,d=r.recipients,j=r.participants,b=r.activeConversationId,u=Object(c.d)((function(e){return function(e){var t=e.chat,n=t.conversations,a=t.activeConversationId;return n.byId[a]||{id:null,messages:[],participants:[],unreadMessages:0}}(e)})),p=i?"DETAIL":"COMPOSE",h=j.filter((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));Object(a.useEffect)((function(){i?function(){var n=Object(Et.a)(Bt.a.mark((function n(){return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(Object(o.f)(i));try{e(Object(o.d)(i))}catch(a){console.error(a),t(s.b.chat.new)}case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()():b&&e(Object(o.i)())}),[i]),Object(a.useEffect)((function(){b&&e(Object(o.g)(b))}),[e,b]);var O=function(){var t=Object(Et.a)(Bt.a.mark((function t(n){return Bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(Object(o.h)(n))}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(M.jsxs)(m.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:["DETAIL"===p?Object(M.jsx)(ze,{participants:h}):Object(M.jsx)(fe,{recipients:d,contacts:Object.values(l.byId),onAddRecipient:function(t){e(Object(o.a)(t))}}),Object(M.jsx)(k.a,{}),Object(M.jsxs)(m.a,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[Object(M.jsxs)(m.a,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:[Object(M.jsx)(nt,{conversation:u}),Object(M.jsx)(k.a,{}),Object(M.jsx)(Ye,{conversationId:b,onSend:O,disabled:n===s.b.chat.new})]}),"DETAIL"===p&&Object(M.jsx)(Dt,{conversation:u,participants:h})]})]})}function Yt(){var e=Object(c.c)();return Object(a.useEffect)((function(){e(Object(o.e)()),e(Object(o.c)())}),[e]),Object(M.jsx)(l.a,{title:"Chat | Minimal-UI",children:Object(M.jsxs)(i.a,{maxWidth:"xl",children:[Object(M.jsx)(d.a,{heading:"Chat",links:[{name:"Dashboard",href:s.b.root},{name:"Chat"}]}),Object(M.jsxs)(r.a,{sx:{height:"72vh",display:"flex"},children:[Object(M.jsx)(Qt,{}),Object(M.jsx)(Vt,{})]})]})})}}}]);
//# sourceMappingURL=55.70c7ed12.chunk.js.map